<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Reproductibilité avec R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Cédric Hassen-Khodja" />
    <meta name="date" content="2024-03-08" />
    <script src="index_files/header-attrs/header-attrs.js"></script>
    <script src="index_files/xaringanExtra-progressBar/progress-bar.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="custom-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Reproductibilité avec R
]
.author[
### Cédric Hassen-Khodja
]
.date[
### 2024-03-08
]

---






<style>.xe__progress-bar__container {
  top:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 10px;
  background-color: #0051BA;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>

## La recherche reproductible

**La recherche reproductible :**une recherche dont toutes les informations pertinentes sont accessibles, permettant à n'importe quel chercheur indépendant de reproduire les résultats.

--

**La réplication :** l'obtention de résultats cohérents en utilisant des méthodologies différentes.

--

**La répétabilité :** l'obtention de résultats cohérents en utilisant la même méthodologie dans le même cadre expérimental.

---

## La figure seule

&lt;img src="./fig/temp.png" width="70%" /&gt;

---

## La figure avec les données

.pull-left[
&lt;img src="./fig/temp.png" width="70%" /&gt;
]
.pull-right[


```
##         Mois Temperature
## 1    Janvier           5
## 2    Février           6
## 3       Mars           9
## 4      Avril          12
## 5        Mai          16
## 6       Juin          20
## 7    Juillet          22
## 8       Août          21
## 9  Septembre          18
## 10   Octobre          14
## 11  Novembre           9
## 12  Décembre           6
```
]

---

## La figure avec les données et les métadonnées

.pull-left[
&lt;img src="./fig/temp.png" width="80%" /&gt;

&lt;img src="./fig/matadata_caption.png" width="80%" /&gt;
]
.pull-right[

```
##         Mois Temperature
## 1    Janvier           5
## 2    Février           6
## 3       Mars           9
## 4      Avril          12
## 5        Mai          16
## 6       Juin          20
## 7    Juillet          22
## 8       Août          21
## 9  Septembre          18
## 10   Octobre          14
## 11  Novembre           9
## 12  Décembre           6
```
]

---

## La figure avec les données, les métadonnées et le script

.pull-left[
&lt;img src="./fig/temp.png" width="80%" /&gt;

&lt;img src="./fig/matadata_caption.png" width="80%" /&gt;
]
.pull-right[

```
##         Mois Temperature
## 1    Janvier           5
## 2    Février           6
## 3       Mars           9
## 4      Avril          12
## 5        Mai          16
## 6       Juin          20
## 7    Juillet          22
## 8       Août          21
## 9  Septembre          18
## 10   Octobre          14
## 11  Novembre           9
## 12  Décembre           6
```

&lt;img src="./fig/script.png" width="100%" /&gt;
]

---

## Un projet RStudio et Rmarkdown

.pull-left[
&lt;img src="./fig/Rmarkdown.png" width="100%" /&gt;
]
.pull-right[
&lt;img src="./fig/html_report.png" width="66.5%" /&gt;
]

---

## Un projet RStudio, Rmarkdown et sessionInfo

.pull-left[
&lt;img src="./fig/Rmarkdown.png" width="100%" /&gt;

&lt;img src="./fig/session_info.png" width="100%" /&gt;
]
.pull-right[
&lt;img src="./fig/html_report.png" width="66.5%" /&gt;
]

---

## Les gestionnaires de packages

.pull-left[
 <img src="logos/renv.svg" height="100px" width="100px"/>
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
 <img src="logos/minicran.svg" height="100px" width="100px"/> 
]

.pull-right[
 checkpoint
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
 <img src="logos/groundhog.png" height="69px" width="130px"/> 
]

---

## Make-like pipeline tool &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <img src="logos/targets.svg" height="80.8px" width="73.7px"/> 


1. **Automatisation de Workflows Complexes.**

2. **Reproductibilité.**

3. **Parallélisation Efficace.**

4. **Gestion Intégrée des Erreurs.**

5. **Facilité de Maintenance.**

6. **Intégration Harmonieuse.**

7. **Documentation Complète.**

&lt;!--Gère les dépendances et les étapes de traitement de manière automatisée.
Garantit la reproductibilité des résultats en enregistrant les dépendances et les paramètres.
Exécute les étapes de manière parallèle pour une performance optimale.
Identifie et gère efficacement les erreurs pour des workflows robustes.
Simplifie la maintenance en permettant une organisation claire des workflows.
S'intègre facilement avec d'autres packages R et outils de développement.
Offre une documentation détaillée pour une utilisation facile et une meilleure compréhension --&gt;

---

## "Packager" son analyse

&lt;div class="pull-left" style="font-size: 18px;"&gt;
1. Les packages organisent le code de manière modulaire.&lt;br&gt;
&lt;br&gt;
2. Ils simplifient le partage et la réutilisation du code.&lt;br&gt;
&lt;br&gt;
3. Ils gèrent les dépendances de manière automatique.&lt;br&gt;
&lt;br&gt;
4. Ils intègrent des outils pour documenter et tester le code.&lt;br&gt;
&lt;br&gt;
5. Ils encouragent la collaboration entre développeurs.&lt;br&gt;
&lt;br&gt;
6. Ils facilitent le déploiement du code.&lt;br&gt;
&lt;br&gt;
7. Ils promeuvent les bonnes pratiques de développement.&lt;br&gt;
&lt;br&gt;
8. Ils simplifient la maintenance du code.&lt;br&gt;
&lt;br&gt;
9. Ils contribuent à la qualité du code.&lt;br&gt;
&lt;/div&gt;

.pull-right[
&lt;img src="./fig/rpackages-tools.png" width="100%" /&gt;
]

---

## Utiliser des containers &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; <img src="logos/docker-logo-blue.svg" height="53.1px" width="233.4px"/>

&lt;img src="./fig/docker-architecture.webp" width="90%" /&gt;

---

## Systèmes de gestion de version

| Caractéristique | Git                               | GitLab                            | GitHub                            |
|-----------------|-----------------------------------|-----------------------------------|-----------------------------------|
| Type            | Système de contrôle de version    | Plateforme de gestion de projets  | Plateforme de développement      |
| Hébergement     | Local ou sur des serveurs distants| Peut être auto-hébergé ou en cloud| En cloud, propriété de Microsoft  |
| Fonctionnalités | Basique                           | Avancées, incluant CI/CD         | Avancées, incluant CI/CD         |
| Collaboration   | Peut être limitée aux collaborateurs locaux | Collaboration sur projets, issues, merge requests | Collaboration sur projets, issues, pull requests |
| Intégration     | Intégration avec des outils tiers | Intégration native avec des outils de développement | Intégration native avec des outils de développement |
| Popularité      | Très populaire, largement utilisé | Populaire parmi les développeurs | Très populaire, utilisé par de nombreux projets open-source |

---

## Les données

- Stocker / archiver ses données dans un dépôt respectant les principes FAIR.

&lt;img src="./fig/datacenter.png" width="60%" /&gt;

---

## Ressources

&lt;div class="small-text"&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Jupyter Notebooks&lt;/strong&gt; : &lt;br&gt;Environnement interactif pour créer et partager des documents contenant du code, des visualisations et du texte. &lt;br&gt;&lt;a href="https://jupyter.org/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;R Markdown&lt;/strong&gt; : &lt;br&gt;Extension de Markdown pour créer des rapports dynamiques et reproductibles avec du code intégré. &lt;br&gt;&lt;a href="https://rmarkdown.rstudio.com/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;Git&lt;/strong&gt; : &lt;br&gt;Système de contrôle de version pour suivre les modifications du code et collaborer avec d'autres chercheurs. &lt;br&gt;&lt;a href="https://git-scm.com/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;Docker&lt;/strong&gt; : &lt;br&gt;Plateforme de conteneurisation pour créer des environnements de développement isolés et reproductibles. &lt;br&gt;&lt;a href="https://www.docker.com/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;Binder&lt;/strong&gt; : &lt;br&gt;Service pour transformer des notebooks Jupyter en applications web interactives, facilitant le partage et la reproductibilité.&lt;br&gt; &lt;a href="https://mybinder.org/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;Snakemake&lt;/strong&gt; : &lt;br&gt;Outil de gestion de workflow pour la création de pipelines de traitement de données reproductibles.&lt;br&gt; &lt;a href="https://snakemake.readthedocs.io/en/stable/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
  &lt;br&gt;
  &lt;li&gt;&lt;strong&gt;targets&lt;/strong&gt; : &lt;br&gt;Package R pour la définition et l'exécution de workflows reproductibles.&lt;br&gt;&lt;a href="https://books.ropensci.org/targets/"&gt;Site Web&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
